<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-3.0.xsd
		http://www.springframework.org/schema/mvc
		http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd"
		>

	<!-- 定义组件扫描范围 -->
	<context:component-scan base-package="com.metaedu.server.website.web" />
	
	<!-- 定义 View 解析模板 -->
	<bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
		<property name="viewClass" value="org.springframework.web.servlet.view.JstlView" /><!-- 指定使用 JSTL 解析 -->
		<property name="prefix" value="/WEB-INF/jsp/" /><!-- 指定模板存放路径 -->
		<property name="suffix" value=".jsp" /><!-- 指定模板文件为 JSP -->
	</bean>
	
	<!-- 支持上传文件（取消？，因为该方式不支持 application/octet-stream） -->
	<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
		<!-- <property name="maxUploadSize" value="100000"/> -->
	</bean>
	
	<!-- 区域更改拦截器，配合国际化用户在没有显式指定 Cookie 情况下自动变更，包括指定为默认语种（此项目通过 Cookie，根据拦截器不同，作用方式不同） -->
	<bean id="localeChangeInterceptor" class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
		<property name="paramName" value="language"/>
	</bean>
	
	<!-- 设定国际化支持拦截器，配置为 Cookie 型 -->
	<bean id="localeResolver" class="org.springframework.web.servlet.i18n.CookieLocaleResolver">
		<property name="cookieName" value="language"/>
		<property name="cookieMaxAge" value="3600"/>
		<property name="cookiePath" value="/" /><!-- Cookie 可访问路径 -->
		<!-- <property name="defaultLocale" value="en_US"/> -->
		<property name="defaultLocale" value="zh_CN"/>
	</bean>
	
	<!-- 国际化支持 -->
	<bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basenames">
			<!-- 前一个 messages 对应 *message package，后一个 message 是所有以 message 开头的，以 properties 结尾的文件 -->
			<list>
				<value>com.metaedu.server.website.web.message.general</value>
				<value>com.metaedu.server.website.web.message.page.default</value>
			</list>
		</property>
		<!-- 如果在国际化资源文件中找不到对应代码的信息，就用这个代码作为名称  -->
		<!-- <property name="useCodeAsDefaultMessage" value="true" /> -->
		<!-- 国际化资源缓冲时间  -->
		<property name="cacheSeconds" value="5"/>
	</bean>
	
	
	
	
	<!-- 定义静态资源文件夹 -->
	<!-- <mvc:resources location="/static/" mapping="/static/**" />  -->
	
</beans>